<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>To é˜¿åŸï¼šç”Ÿæ—¥å¿«æ¨‚èˆ‡å°ˆå±¬å¯µæ„›</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Long+Cang&family=Noto+Serif+TC:wght@400;700&display=block" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root {
            --primary-color: #d48a96;
            --secondary-color: #fdf6e3;
            --text-color: #5c4b51;
            --accent-gold: #cca876;
            --handwriting-font: 'Long Cang', cursive;
            --english-font: 'Dancing Script', cursive;
            --serif-font: 'Noto Serif TC', serif;
        }

        * { -webkit-tap-highlight-color: transparent; }

        body {
            font-family: var(--serif-font);
            background: linear-gradient(135deg, #fffbf0 0%, #fcefe8 100%);
            margin: 0;
            color: var(--text-color);
            scroll-behavior: smooth;
            /* åŸæœ¬çš„ç´™å¼µç´‹ç† */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.03'/%3E%3C/svg%3E");
            overflow-x: hidden; /* é˜²æ­¢è§’è‰²åœ–ç‰‡è¶…å‡ºé‚Šç•Œç”¢ç”Ÿæ©«å‘æ²è»¸ */
        }

        /* --- æ–°å¢ï¼šèƒŒæ™¯è§’è‰²æ¨£å¼ --- */
        .bg-character {
            position: fixed; /* å›ºå®šåœ¨è¦–çª—ï¼Œä¸éš¨æ²å‹•ç§»å‹• */
            z-index: -1; /* æ”¾åœ¨æœ€åº•å±¤ï¼Œæ–‡å­—å¾Œæ–¹ */
            opacity: 0.15; /* éå¸¸æ·¡çš„é€æ˜åº¦ï¼Œåƒæµ®æ°´å° */
            pointer-events: none; /* ç¢ºä¿æ»‘é¼ é»æ“Šç©¿é€ï¼Œä¸å½±éŸ¿æ“ä½œ */
            filter: sepia(0.2) contrast(0.9); /* ç¨å¾®èª¿æ•´è‰²èª¿èå…¥æš–è‰²èƒŒæ™¯ */
            transition: all 0.5s ease;
        }

        #donald {
            bottom: -20px;
            left: -30px;
            width: 200px;
            transform: rotate(15deg);
        }

        #olaf {
            top: 50px;
            right: -20px;
            width: 150px;
            transform: rotate(-10deg);
        }
        /* ------------------------ */

        .hw-text, h1, h2, .gift-item, .start-btn, #result-text, .subtitle {
            font-family: var(--handwriting-font) !important;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
        }

        .section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            box-sizing: border-box;
            text-align: center;
            position: relative; /* ç¢ºä¿å…§å®¹åœ¨è§’è‰²ä¸Šæ–¹ */
            z-index: 1;
        }

        h1 { font-size: 2.8rem; margin-bottom: 10px; color: var(--primary-color); }
        
        .english-title {
            font-family: var(--english-font) !important;
            font-size: 1.8rem;
            color: var(--accent-gold);
            margin-bottom: 25px;
        }

        .subtitle { font-size: 1.3rem; line-height: 1.8; margin-bottom: 40px; }

        .gift-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            max-width: 600px;
            width: 100%;
            margin-bottom: 50px;
        }
        
        .gift-item {
            background: rgba(253, 246, 227, 0.9); /* ç¨å¾®å¢åŠ ä¸é€æ˜åº¦ï¼Œé¿å…è¢«èƒŒæ™¯è§’è‰²å¹²æ“¾ */
            padding: 20px 10px;
            border-radius: 20px 10px 20px 10px;
            box-shadow: 5px 5px 15px rgba(212, 138, 150, 0.1);
            font-size: 1.1rem;
            border: 1px solid rgba(212, 138, 150, 0.2);
            transition: 0.3s;
            backdrop-filter: blur(2px);
        }

        .icon { font-size: 30px; display: block; margin-bottom: 10px; }

        .start-btn {
            -webkit-appearance: none;
            background: linear-gradient(45deg, var(--primary-color), #eba3b0);
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 1.6rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(212, 138, 150, 0.3);
        }

        #music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            font-size: 20px;
            border: 2px solid var(--secondary-color);
        }

        .playing { animation: rotate 3s linear infinite; }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .lottery-container {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            padding: 40px 20px;
            border-radius: 30px;
            border: 2px dashed var(--accent-gold);
            width: 90%;
            max-width: 400px;
        }

        .gift-box-anim { font-size: 100px; cursor: pointer; margin: 20px 0; display: inline-block; }
        #result-text { font-size: 1.8rem; color: var(--primary-color); min-height: 1.5em; }

        @media (max-width: 480px) {
            h1 { font-size: 2.2rem; }
            .gift-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
            .gift-item { font-size: 0.95rem; }
            /* æ‰‹æ©Ÿç‰ˆèª¿æ•´è§’è‰²å¤§å°èˆ‡ä½ç½® */
            #donald { width: 150px; bottom: -10px; left: -20px; }
            #olaf { width: 100px; top: 70px; right: -15px; }
        }
    </style>
</head>
<body>

<audio id="bgm" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<img src="https://upload.wikimedia.org/wikipedia/en/thumb/b/b4/Donald_Duck.svg/220px-Donald_Duck.svg.png" alt="å”è€é´¨" class="bg-character" id="donald">
<img src="https://upload.wikimedia.org/wikipedia/en/thumb/d/d7/Olaf_from_Disney%27s_Frozen.png/170px-Olaf_from_Disney%27s_Frozen.png" alt="é›ªå¯¶" class="bg-character" id="olaf">

<div id="music-control">ğŸµ</div>

<div class="section" id="preview-zone">
    <h1>è¦ªæ„›çš„é˜¿åŸï¼Œç”Ÿæ—¥å¿«æ¨‚ï¼</h1>
    <div class="english-title">Happy Birthday, Dear Yin.</div>
    <p class="subtitle">
        å¸¸ç†¬å¤œä¹Ÿè¦è¨˜å¾—æ„›è­·èº«é«”ã€‚<br>
        é¾äºŒå“¥æº–å‚™äº†å¹¾ä»½å°ˆå±¬æ–¼ä½ çš„é©šå–œï¼Œ<br>
        é»æ“Šä¸‹æ–¹æŒ‰éˆ•ï¼Œæ­æ›‰ä½ çš„å°ˆå±¬å¥½ç¦® ğŸ’–
    </p>
    
    <div class="gift-grid">
        <div class="gift-item"><span class="icon">ğŸ§˜â€â™€ï¸</span>Lululemon å¥—çµ„</div>
        <div class="gift-item"><span class="icon">ğŸ˜´</span>çœŸçµ²é®å…‰çœ¼ç½©</div>
        <div class="gift-item"><span class="icon">ğŸ”«</span>æ·±å±¤ç­‹è†œæ§</div>
        <div class="gift-item"><span class="icon">ğŸ’†â€â™€ï¸</span>èˆ’å£“ SPA èª²ç¨‹</div>
    </div>

    <button class="start-btn" id="go-draw-btn">å‰å¾€æŠ½å–ç¦®ç‰© âœ¨</button>
</div>

<div class="section" id="draw-zone">
    <div class="lottery-container">
        <h2 class="hw-text">âœ¨ å‘½é‹ç¦®ç‰©ç›’ âœ¨</h2>
        <div class="gift-box-anim" id="drawBtn">ğŸ</div>
        <div id="result-text"></div>
    </div>
    <p style="margin-top: 40px; font-family: var(--english-font); color: var(--accent-gold); font-size: 1.2rem;">With Love, from é¾äºŒå“¥</p>
</div>

<script>
    // ... (JavaScript éƒ¨åˆ†èˆ‡ä¹‹å‰ç›¸åŒï¼Œç„¡éœ€æ›´å‹•) ...
    const audio = document.getElementById('bgm');
    const musicBtn = document.getElementById('music-control');
    const goDrawBtn = document.getElementById('go-draw-btn');
    const drawBtn = document.getElementById('drawBtn');
    const resultText = document.getElementById('result-text');
    let isPlaying = false;
    let isOpened = false;

    function toggleMusic() {
        if (isPlaying) {
            audio.pause();
            musicBtn.classList.remove('playing');
        } else {
            audio.play().catch(() => { console.log("ç­‰å¾…äº’å‹•å¾Œæ’­æ”¾"); });
            musicBtn.classList.add('playing');
        }
        isPlaying = !isPlaying;
    }

    musicBtn.addEventListener('click', toggleMusic);

    goDrawBtn.addEventListener('click', () => {
        if (!isPlaying) toggleMusic();
        document.getElementById('draw-zone').scrollIntoView();
    });

    const gifts = [
        { name: "Lululemon å°ˆæ¥­é‹å‹•æœé£¾", icon: "ğŸ§˜â€â™€ï¸" },
        { name: "é«˜å“è³ªçœŸçµ²é®å…‰çœ¼ç½©", icon: "ğŸ˜´" },
        { name: "è¼•å·§ç‰ˆæ·±å±¤èˆ’ç·©ç­‹è†œæ§", icon: "ğŸ”«" },
        { name: "å…¨èº«ç¶“çµ¡æ·±å±¤æŒ‰æ‘© SPA", icon: "ğŸ’†â€â™€ï¸" }
    ];

    drawBtn.addEventListener('click', () => {
        if (isOpened) return;
        
        let count = 0;
        const interval = setInterval(() => {
            resultText.innerText = gifts[Math.floor(Math.random() * gifts.length)].name;
            count++;
            if (count > 12) {
                clearInterval(interval);
                finalize();
            }
        }, 100);

        function finalize() {
            const finalGift = gifts[Math.floor(Math.random() * gifts.length)];
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#d48a96', '#cca876', '#ffffff']
            });
            drawBtn.innerHTML = "ğŸ‰";
            resultText.innerHTML = `æ­å–œç²å¾—ï¼š<br>${finalGift.icon} ${finalGift.name}`;
            isOpened = true;
            setTimeout(() => { alert("é˜¿åŸç”Ÿæ—¥å¿«æ¨‚ï¼æˆªåœ–å‚³çµ¦é¾äºŒå“¥é ˜çå–”ï¼"); }, 500);
        }
    });
</script>

</body>
</html>
